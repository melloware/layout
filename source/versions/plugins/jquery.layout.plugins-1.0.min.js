(function(b){if(!b.layout){return}b.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(d){var j=document.cookie,f=j?j.split(";"):[],g;for(var e=0,h=f.length;e<h;e++){g=b.trim(f[e]).split("=");if(g[0]==d){return decodeURIComponent(g[1])}}return""},write:function(f,i,d){var h="",e="",c=false,g=d||{};if(!g.expires){}else{if(g.expires.toUTCString){e=g.expires}else{if(typeof g.expires=="number"){e=new Date();if(g.expires>0){e.setDate(e.getDate()+g.expires)}else{e.setFullYear(1970);c=true}}}}if(e){h+=";expires="+e.toUTCString()}if(g.path){h+=";path="+g.path}if(g.domain){h+=";domain="+g.domain}if(g.secure){h+=";secure"}document.cookie=f+"="+(c?"":encodeURIComponent(i))+h},clear:function(c){b.ui.cookie.write(c,"",{expires:-1})}};b.layout.plugins.stateManagement=true;b.layout.defaults.stateManagement={enabled:false,autoSave:true,autoLoad:true,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:false}};b.layout.optionsMap.layout.push("stateManagement");b.layout.state={config:{allPanes:"north,south,west,east,center"},saveCookie:function(h,f,d){var i=h.options,e=i.stateManagement,c=b.extend({},e.cookie,d||{}),g=h.state.stateData=h.readState(f||e.stateKeys);b.ui.cookie.write(c.name||i.name||"Layout",b.layout.state.encodeJSON(g),c);return b.extend({},g)},deleteCookie:function(c){var d=c.options;b.ui.cookie.clear(d.stateManagement.cookie.name||d.name||"Layout")},readCookie:function(d){var e=d.options;var f=b.ui.cookie.read(e.stateManagement.cookie.name||e.name||"Layout");return f?b.layout.state.decodeJSON(f):{}},loadCookie:function(d){var e=b.layout.state.readCookie(d);if(e){d.state.stateData=b.extend({},e);d.loadState(e)}return e},loadState:function(j,g,d){g=b.layout.transformData(g);b.extend(true,j.options,g);if(j.state.initialized){var f,e,m,k,l,i=(d===false);b.each(b.layout.state.config.allPanes.split(","),function(c,h){e=g[h];if(typeof e!="object"){return}m=e.size;l=e.initClosed;k=e.initHidden;if(m>0||m=="auto"){j.sizePane(h,m,false,null,i)}if(k===true){j.hide(h,a)}else{if(l===false){j.open(h,false,i)}else{if(l===true){j.close(h,false,i)}else{if(k===false){j.show(h,false,i)}}}}})}},readState:function(l,o){var j={},k={isClosed:"initClosed",isHidden:"initHidden"},c=l.state,g,f,m,e;if(!o){o=l.options.stateManagement.stateKeys}if(b.isArray(o)){o=o.join(",")}o=o.replace(/__/g,".").split(",");for(var h=0,d=o.length;h<d;h++){g=o[h].split(".");f=g[0];m=g[1];if(b.layout.state.config.allPanes.indexOf(f)<0){continue}e=c[f][m];if(e==undefined){continue}if(m=="isClosed"&&c[f]["isSliding"]){e=true}(j[f]||(j[f]={}))[k[m]?k[m]:m]=e}return j},encodeJSON:function(d){return c(d);function c(l){var m=[],j=0,f,e,g;for(f in l){e=l[f];g=typeof e;if(g=="string"){e='"'+e+'"'}else{if(g=="object"){e=c(e)}}m[j++]='"'+f+'":'+e}return"{"+m.join(",")+"}"}},decodeJSON:function(d){try{return b.parseJSON?b.parseJSON(d):window["eval"]("("+d+")")||{}}catch(c){return{}}},_create:function(d){b.extend(d,{readCookie:function(){return b.layout.state.readCookie(d)},deleteCookie:function(){b.layout.state.deleteCookie(d)},saveCookie:function(f,e){return b.layout.state.saveCookie(d,f,e)},loadCookie:function(){return b.layout.state.loadCookie(d)},loadState:function(e,f){b.layout.state.loadState(d,e,f)},readState:function(e){return b.layout.state.readState(d,e)},encodeJSON:b.layout.state.encodeJSON,decodeJSON:b.layout.state.decodeJSON});d.state.stateData={};var c=d.options.stateManagement;if(c.enabled){if(c.autoLoad){d.loadCookie()}else{d.state.stateData=d.readCookie()}}},_unload:function(d){var c=d.options.stateManagement;if(c.enabled){if(c.autoSave){d.saveCookie()}else{d.state.stateData=d.readState()}}}};b.layout.onCreate.push(b.layout.state._create);b.layout.onUnload.push(b.layout.state._unload);b.layout.plugins.buttons=true;b.layout.defaults.autoBindCustomButtons=false;b.layout.optionsMap.layout.push("autoBindCustomButtons");b.layout.buttons={config:{borderPanes:"north,south,west,east"},init:function(e){var f="ui-layout-button-",d=e.options.name||"",c;b.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(g,h){b.each(b.layout.buttons.config.borderPanes.split(","),function(i,j){b("."+f+h+"-"+j).each(function(){c=b(this).data("layoutName")||b(this).attr("layoutName");if(c==undefined||c===d){e.bindButton(this,h,j)}})})})},get:function(j,g,f,h){var k=b(g),d=j.options,i=d.showErrorMessages,e=b.layout.language;if(!k.length){if(i){alert(e.errButton+e.selector+": "+g)}}else{if(b.layout.buttons.config.borderPanes.indexOf(f)===-1){if(i){alert(e.errButton+e.pane+": "+f)}k=b("")}else{var c=d[f].buttonClass+"-"+h;k.addClass(c+" "+c+"-"+f).data("layoutName",d.name)}}return k},bind:function(f,e,d,g){var c=b.layout.buttons;switch(d.toLowerCase()){case"toggle":c.addToggle(f,e,g);break;case"open":c.addOpen(f,e,g);break;case"close":c.addClose(f,e,g);break;case"pin":c.addPin(f,e,g);break;case"toggle-slide":c.addToggle(f,e,g,true);break;case"open-slide":c.addOpen(f,e,g,true);break}return f},addToggle:function(e,d,f,c){b.layout.buttons.get(e,d,f,"toggle").on("click",function(g){e.toggle(f,!!c);g.stopPropagation()});return e},addOpen:function(e,d,f,c){b.layout.buttons.get(e,d,f,"open").attr("title",b.layout.language.Open).on("click",function(g){e.open(f,!!c);g.stopPropagation()});return e},addClose:function(d,c,e){b.layout.buttons.get(d,c,e,"close").attr("title",b.layout.language.Close).on("click",function(f){d.close(e);f.stopPropagation()});return d},addPin:function(f,c,g){var d=b.layout.buttons.get(f,c,g,"pin");if(d.length){var e=f.state[g];d.on("click",function(h){b.layout.buttons.setPinState(f,b(this),g,(e.isSliding||e.isClosed));if(e.isSliding||e.isClosed){f.open(g)}else{f.close(g)}h.stopPropagation()});b.layout.buttons.setPinState(f,d,g,(!e.isClosed&&!e.isSliding));e.pins.push(c)}return f},setPinState:function(g,i,e,f){var l=i.attr("pin");if(l&&f===(l=="down")){return}var c=g.options[e].buttonClass+"-pin",h=c+"-"+e,k=c+"-up "+h+"-up",j=c+"-down "+h+"-down",d=b.layout.language;i.attr("pin",f?"down":"up").attr("title",f?d.Unpin:d.Pin).removeClass(f?k:j).addClass(f?j:k)},syncPinBtns:function(d,e,c){b.each(state[e].pins,function(g,f){b.layout.buttons.setPinState(d,b(f),e,c)})},_load:function(d){b.extend(d,{bindButton:function(f,g,h){return b.layout.buttons.bind(d,f,g,h)},addToggleBtn:function(g,h,f){return b.layout.buttons.addToggle(d,g,h,f)},addOpenBtn:function(g,h,f){return b.layout.buttons.addOpen(d,g,h,f)},addCloseBtn:function(f,g){return b.layout.buttons.addClose(d,f,g)},addPinBtn:function(f,g){return b.layout.buttons.addPin(d,f,g)}});for(var c=0;c<4;c++){var e=b.layout.buttons.config.borderPanes[c];d.state[e].pins=[]}if(d.options.autoBindCustomButtons){b.layout.buttons.init(d)}},_unload:function(c){}};b.layout.onLoad.push(b.layout.buttons._load)})(jQuery);